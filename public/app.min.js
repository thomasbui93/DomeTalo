!function(){var e=angular.module("app",["ui.router","ngMaterial","angularMoment"]);e.config(["$stateProvider","$mdThemingProvider",function(e,n){n.theme("default").primaryPalette("amber").accentPalette("indigo"),n.theme("docs-dark").primaryPalette("indigo");var o={index:{url:"",templateUrl:"/home.html",controller:"HomeController"},design:{url:"/design",templateUrl:"/design.html",controller:"DesignController","abstract":!0},"design.model":{url:"",views:{design:{templateUrl:"/design.model.html",controller:"ModelController"}}},"design.exterior":{url:"/exterior",views:{design:{templateUrl:"/design.exterior.html",controller:"ExteriorController"}}},"design.package":{url:"/package",views:{design:{templateUrl:"/design.package.html",controller:"PackageController"}}},"design.wall":{url:"/wall",views:{design:{templateUrl:"/design.wall.html",controller:"WallController"}}},"design.overview":{url:"/overview",views:{design:{templateUrl:"/design.overview.html",controller:"OverviewController"}}},"design.personal":{url:"/personal",views:{design:{templateUrl:"/design.personal.html",controller:"PersonalController"}}},"design.appointment":{url:"/appointment",views:{design:{templateUrl:"/design.appointment.html",controller:"AppointmentController"}}}};angular.forEach(o,function(n,o){e.state(o,n)})}]),e.controller("AppointmentController",["$scope","$rootScope","$mdToast",function(e,n,o){e.appoinment=n.appointment,e.minDate=moment(),e.maxDate=moment().add(1,"M"),e.gridWeek=[[!0,!0,!1,!0,!1],[!0,!0,!0,!0,!1],[!1,!0,!0,!1,!0],[!0,!0,!0,!0,!1]],e.getWeekData=function(){for(var n=0;4>n;n++)for(var o=0;5>o;o++){{Math.random()<.5}e.gridWeek[n][o]=Math.random()<.5}},function(){var n=moment(e.minDate).subtract(e.minDate.day(),"d");e.currentRange=[moment(n).add(1,"d"),moment(n).add(2,"d"),moment(n).add(3,"d"),moment(n).add(4,"d"),moment(n).add(5,"d")]}(),e.nextWeek=function(){var n=e.currentRange;moment(n[0]).add(7,"d").isBefore(e.maxDate)?(e.currentRange=[moment(n[0]).add(7,"d"),moment(n[1]).add(7,"d"),moment(n[2]).add(7,"d"),moment(n[3]).add(7,"d"),moment(n[4]).add(7,"d")],e.getWeekData()):o.show(o.simple().content("Only a month from now allowed"))},e.preWeek=function(){var n=e.currentRange;moment(n[0]).subtract(7,"d").isAfter(moment())?(e.currentRange=[moment(n[0]).subtract(7,"d"),moment(n[1]).subtract(7,"d"),moment(n[2]).subtract(7,"d"),moment(n[3]).subtract(7,"d"),moment(n[4]).subtract(7,"d")],e.getWeekData()):o.show(o.simple().content("Only a month from now allowed"))}}]),e.controller("DesignController",["$scope","$rootScope","$state","$mdToast","NotificationServices","$mdDialog",function(e,n,o,t,l,a){e.states=[{name:"model",done:!1},{name:"exterior",done:!1},{name:"package",done:!1},{name:"wall",done:!1},{name:"floor",done:!1},{name:"window",done:!1},{name:"overview",done:!1},{name:"personal",done:!1},{name:"appointment",done:!1}],e.currentState="model",n.client={model:null,exterior:null,"package":null,wall:null,window:null,floor:null,price:"100,000"},e.toState=function(n){e.currentState=n.name,o.go("design."+n.name)},e.$watch(function(){return o.current.name},function(n){e.currentState=n.substr(7)}),n.$watchCollection(function(){return n.client},function(){e.client=n.client,null!==e.client.model&&(e.states[0].done=!0),null!==e.client.exterior&&(e.states[1].done=!0),null!==e.client.package&&(e.states[2].done=!0)}),e.togglePackage=function(){n.client.package="standard"!==n.client.package?"standard":"plussa",n.$broadcast("changePackage"),t.show({controller:"PackageToast",templateUrl:"/change.package.html",parent:angular.element(document.body),hideDelay:1e3,position:"bottom right",locals:{"package":e.client.package}})},e.notifySelection=l.notifySelection,e.showPreviewDialog=function(n){a.show({controller:r,templateUrl:"/preview.dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(n){e.clientModel=n},function(){})};var r=function(e,n,o,t){e.client={model:{prop:n.client.model,image:"http://demo.wpcharming.com/construction/wp-content/uploads/2015/02/interior5-600x300.jpg"},exterior:{prop:n.client.exterior,image:function(){return null!==n.client.exterior?"/images/exterior-"+n.client.exterior.name+".jpg":null}},"package":{prop:n.client.package,image:function(){return null!==n.client.package?"/images/package-"+n.client.package.name+".jpg":null}},wall:{prop:n.client.wall,image:function(){return null!==n.client.wall?"/images/wall-"+n.client.wall.name+".jpg":null}},window:{prop:n.client.window,image:function(){return null!==n.client.window?"/images/window-"+n.client.window.name+".jpg":null}},floor:{prop:n.client.floor,image:function(){return null!==n.client.floor?"/images/floor-"+n.client.floor.name+".jpg":null}}},e.cancel=function(){o.cancel()},e.toState=function(n){e.cancel(),t.go("design."+n)},e.price=n.client.price};e.showMain=!0,e.toggleMenu=function(){e.showMain=!e.showMain}}]).controller("PackageToast",["$scope","$mdToast","package",function(e,n,o){e.package=o}]),e.controller("ExteriorController",["$scope","$rootScope","$state",function(e,n,o){if(e.colors=[{name:"red",code:"#F44336"},{name:"green",code:"#4CAF50"},{name:"purple",code:"#673AB7"},{name:"blue",code:"#3F51B5"},{name:"orange",code:"#FF9800"}],e.advanceColors=[{name:"asphalt",code:"#2c3e50"},{name:"asbestos",code:"#7f8c8d"}],e.isAdvance=!1,e.selectedColor=n.client.exterior,e.exteriBase="/images/exterior-",e.exteriorImages=["/images/exterior-red.jpg","/images/exterior-green.jpg","/images/exterior-purple.jpg","/images/exterior-blue.jpg","/images/exterior-orange.jpg"],null!==e.selectedColor){var t=e.exteriBase+e.selectedColor.name+".jpg";e.indexExterior=e.exteriorImages.indexOf(t)}else e.indexExterior=0;e.setColor=function(n){var o=e.exteriBase+n.name+".jpg";e.indexExterior=e.exteriorImages.indexOf(o),e.selectedColor=n},e.setExterior=function(){n.client.exterior=e.selectedColor,o.go("design.package")},e.toggleAdvance=function(){e.isAdvance=!e.isAdvance}}]),e.controller("ModelController",["$scope","$rootScope","$mdDialog","$mdToast",function(e,n,o,t){var l=function(e,n,o){e.index=o,e.selectModel=function(e){n.hide(e)},e.cancel=function(){n.cancel()}};e.clientModel=null,e.showModelDialog=function(n,a){o.show({controller:l,templateUrl:"/model.dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{index:a}}).then(function(n){e.clientModel=n,t.show({controller:"ToastController",templateUrl:"/toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{message:n}})},function(){})},e.$watch(function(){return e.clientModel},function(e){n.client.model=e})}]).controller("ToastController",["$scope","$mdToast","message",function(e,n,o){e.message=o,e.closeToast=function(){n.hide()}}]),e.controller("OverviewController",function(e,n,o){e.client={model:{prop:n.client.model,image:"http://demo.wpcharming.com/construction/wp-content/uploads/2015/02/interior5-600x300.jpg"},exterior:{prop:n.client.exterior,image:function(){return null!==n.client.exterior?"/images/exterior-"+n.client.exterior.name+".jpg":null}},"package":{prop:n.client.package,image:function(){return null!==n.client.package?"/images/package-"+n.client.package.name+".jpg":null}},wall:{prop:n.client.wall,image:function(){return null!==n.client.wall?"/images/wall-"+n.client.wall.name+".jpg":null}},window:{prop:n.client.window,image:function(){return null!==n.client.window?"/images/window-"+n.client.window.name+".jpg":null}},floor:{prop:n.client.floor,image:function(){return null!==n.client.floor?"/images/floor-"+n.client.floor.name+".jpg":null}}},e.toState=function(e){o.go("design."+e)},e.price=n.client.price}),e.controller("PackageController",["$scope","$rootScope","$state",function(e,n,o){e.package=n.client.package,e.setPackage=function(t){n.client.package=t,e.package=t,e.notifySelection(t),o.go("design.wall")}}]),e.controller("PersonalController",["$scope","$rootScope","$state",function(e){e.user={}}]),e.controller("WallController",["$scope","$rootScope","$state",function(e,n,o){if(e.colors=[{name:"red",code:"#F44336"},{name:"green",code:"#4CAF50"},{name:"purple",code:"#673AB7"},{name:"blue",code:"#3F51B5"},{name:"orange",code:"#FF9800"}],e.selectedColor=n.client.wall,e.wallBase="/images/wall-",e.wallImages=["/images/wall-red.jpg","/images/wall-green.jpg","/images/wall-purple.jpg","/images/wall-blue.jpg","/images/wall-orange.jpg"],null!==e.selectedColor){var t=e.wallBase+e.selectedColor.name+".jpg";e.indexWall=e.wallImages.indexOf(t)}else e.indexWall=0;e.setColor=function(n){var o=e.wallBase+n.name+".jpg";e.indexWall=e.wallImages.indexOf(o),e.selectedColor=n},e.setWall=function(){n.client.wall=e.selectedColor,o.go("design.floor")}}]),e.controller("HomeController",["$scope","$rootScope","$state",function(e,n,o){e.setModel=function(e){n.house={modalType:e},o.go("design.general")}}]),e.factory("NotificationServices",["$mdToast",function(e){return{notifySelection:function(n){e.show({controller:"ToastController",templateUrl:"/toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{message:n}})},changePackage:function(n){e.show({controller:"PackageToast",templateUrl:"/package.toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{"package":n}})}}}])}();