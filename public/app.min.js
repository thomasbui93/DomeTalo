!function(e){var o=angular.module("app",["ui.router","ngMaterial","angularMoment","ngAnimate"]);o.config(["$stateProvider","$mdThemingProvider",function(e,o){o.theme("default").primaryPalette("amber").accentPalette("indigo"),o.theme("docs-dark").primaryPalette("indigo");var n={index:{url:"",templateUrl:"/home.html",controller:"HomeController"},design:{url:"/design",templateUrl:"/design.html",controller:"DesignController","abstract":!0},"design.model":{url:"",views:{design:{templateUrl:"/design.model.html",controller:"ModelController"}}},"design.questionnaire":{url:"/questionnaire",views:{design:{templateUrl:"/design.questionnaire.html",controller:"QuestionnaireController"}}},"design.exterior":{url:"/exterior",views:{design:{templateUrl:"/design.exterior.html",controller:"ExteriorController"}}},"design.style":{url:"/style",views:{design:{templateUrl:"/design.style.html",controller:"StyleController"}}},"design.package":{url:"/package",views:{design:{templateUrl:"/design.package.html",controller:"PackageController"}}},"design.wall":{url:"/wall",views:{design:{templateUrl:"/design.wall.html",controller:"WallController"}}},"design.overview":{url:"/overview",views:{design:{templateUrl:"/design.overview.html",controller:"OverviewController"}}},"design.personal":{url:"/personal",views:{design:{templateUrl:"/design.personal.html",controller:"PersonalController"}}},"design.appointment":{url:"/appointment",views:{design:{templateUrl:"/design.appointment.html",controller:"AppointmentController"}}},"design.bathroom":{url:"/bathroom",views:{design:{templateUrl:"/design.bathroom.html",controller:"BathroomController"}}}};angular.forEach(n,function(o,n){e.state(n,o)})}]),o.controller("BathroomController",["$scope",function(e){e.bathroomImage="images/bathroom/mind.jpg",e.styles=[{name:"mind",color:"grey"},{name:"alto",color:"white"},{name:"loft",color:"#ccc"}],e.setStyle=function(o){e.bathroomImage="images/bathroom/"+o.name+".jpg"}}]),o.controller("AppointmentController",["$scope","$rootScope","$mdToast",function(e,o,n){e.appoinment=o.appointment,e.minDate=moment(),e.maxDate=moment().add(1,"M"),e.gridWeek=[[!0,!0,!1,!0,!1],[!0,!0,!0,!0,!1],[!1,!0,!0,!1,!0],[!0,!0,!0,!0,!1]],e.getWeekData=function(){for(var o=0;4>o;o++)for(var n=0;5>n;n++){{Math.random()<.5}e.gridWeek[o][n]=Math.random()<.5}},function(){var o=moment(e.minDate).subtract(e.minDate.day(),"d");e.currentRange=[moment(o).add(1,"d"),moment(o).add(2,"d"),moment(o).add(3,"d"),moment(o).add(4,"d"),moment(o).add(5,"d")]}(),e.nextWeek=function(){var o=e.currentRange;moment(o[0]).add(7,"d").isBefore(e.maxDate)?(e.currentRange=[moment(o[0]).add(7,"d"),moment(o[1]).add(7,"d"),moment(o[2]).add(7,"d"),moment(o[3]).add(7,"d"),moment(o[4]).add(7,"d")],e.getWeekData()):n.show(n.simple().content("Only a month from now allowed"))},e.preWeek=function(){var o=e.currentRange;moment(o[0]).subtract(7,"d").isAfter(moment())?(e.currentRange=[moment(o[0]).subtract(7,"d"),moment(o[1]).subtract(7,"d"),moment(o[2]).subtract(7,"d"),moment(o[3]).subtract(7,"d"),moment(o[4]).subtract(7,"d")],e.getWeekData()):n.show(n.simple().content("Only a month from now allowed"))}}]),o.controller("DesignController",["$scope","$rootScope","$state","$mdToast","NotificationServices","$mdDialog",function(e,o,n,t,l,a){e.states=[{name:"bathroom",done:!1},{name:"wall",done:!1},{name:"floor",done:!1},{name:"window",done:!1},{name:"overview",done:!1},{name:"personal",done:!1},{name:"appointment",done:!1}],e.currentState="model",o.client={model:null,exterior:null,"package":null,wall:null,window:null,floor:null,price:"100,000"},e.toState=function(o){e.currentState=o.name,n.go("design."+o.name)},e.$watch(function(){return n.current.name},function(o){e.currentState=o.substr(7)}),o.$watchCollection(function(){return o.client},function(){e.client=o.client,null!==e.client.model&&(e.states[0].done=!0),null!==e.client.exterior&&(e.states[1].done=!0),null!==e.client.package&&(e.states[2].done=!0)}),e.togglePackage=function(){o.client.package="standard"!==o.client.package?"standard":"plussa",o.$broadcast("changePackage"),t.show({controller:"PackageToast",templateUrl:"/change.package.html",parent:angular.element(document.body),hideDelay:1e3,position:"bottom right",locals:{"package":e.client.package}})},e.notifySelection=l.notifySelection,e.showPreviewDialog=function(o){a.show({controller:r,templateUrl:"/preview.dialog.html",parent:angular.element(document.body),targetEvent:o,clickOutsideToClose:!0}).then(function(o){e.clientModel=o},function(){})};var r=function(e,o,n,t){e.client={model:{prop:o.client.model,image:"http://demo.wpcharming.com/construction/wp-content/uploads/2015/02/interior5-600x300.jpg"},exterior:{prop:o.client.exterior,image:function(){return null!==o.client.exterior?"/images/exterior-"+o.client.exterior.name+".jpg":null}},"package":{prop:o.client.package,image:function(){return null!==o.client.package?"/images/package-"+o.client.package.name+".jpg":null}},wall:{prop:o.client.wall,image:function(){return null!==o.client.wall?"/images/wall-"+o.client.wall.name+".jpg":null}},window:{prop:o.client.window,image:function(){return null!==o.client.window?"/images/window-"+o.client.window.name+".jpg":null}},floor:{prop:o.client.floor,image:function(){return null!==o.client.floor?"/images/floor-"+o.client.floor.name+".jpg":null}}},e.cancel=function(){n.cancel()},e.toState=function(o){e.cancel(),t.go("design."+o)},e.price=o.client.price};e.showMain=!0,e.toggleMenu=function(){e.showMain=!e.showMain}}]).controller("PackageToast",["$scope","$mdToast","package",function(e,o,n){e.package=n}]),o.controller("ExteriorController",["$scope","$rootScope","$state",function(e,o){e.options={blanko:["brown","grey","white"],prima:["grey","red","white"],tabloid:["grey","red","white"]},null!==o.client.model?(e.exteriorImage="images/exterior/"+o.client.model+"_white.jpg",e.colors=e.options[o.client.model]):(e.exteriorImage="images/exterior/prima_white.jpg",e.colors=e.options.prima),e.setColor=function(n){e.exteriorImage="images/exterior/"+o.client.model+"_"+n+".jpg",o.client.exterior=n}}]),o.controller("ModelController",["$scope","$rootScope","$mdDialog","$mdToast",function(e,o,n,t){var l=function(e,o,n){e.index=n,e.selectModel=function(e){o.hide(e)},e.cancel=function(){o.cancel()}};e.clientModel=null,e.showModelDialog=function(o,a){n.show({controller:l,templateUrl:"/model.dialog.html",parent:angular.element(document.body),targetEvent:o,clickOutsideToClose:!0,locals:{index:a}}).then(function(o){e.clientModel=o,t.show({controller:"ToastController",templateUrl:"/toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{message:o}})},function(){})},e.$watch(function(){return e.clientModel},function(e){o.client.model=e})}]).controller("ToastController",["$scope","$mdToast","message",function(e,o,n){e.message=n,e.closeToast=function(){o.hide()}}]),o.controller("OverviewController",function(e,o,n){e.client={model:{prop:o.client.model,image:"http://demo.wpcharming.com/construction/wp-content/uploads/2015/02/interior5-600x300.jpg"},exterior:{prop:o.client.exterior,image:function(){return null!==o.client.exterior?"/images/exterior-"+o.client.exterior.name+".jpg":null}},"package":{prop:o.client.package,image:function(){return null!==o.client.package?"/images/package-"+o.client.package.name+".jpg":null}},wall:{prop:o.client.wall,image:function(){return null!==o.client.wall?"/images/wall-"+o.client.wall.name+".jpg":null}},window:{prop:o.client.window,image:function(){return null!==o.client.window?"/images/window-"+o.client.window.name+".jpg":null}},floor:{prop:o.client.floor,image:function(){return null!==o.client.floor?"/images/floor-"+o.client.floor.name+".jpg":null}}},e.toState=function(e){n.go("design."+e)},e.price=o.client.price}),o.controller("PackageController",["$scope","$rootScope","$state",function(e,o,n){e.package=o.client.package,e.setPackage=function(t){o.client.package=t,e.package=t,e.notifySelection(t),n.go("design.wall")}}]),o.controller("PersonalController",["$scope","$rootScope","$state",function(e){e.user={}}]),o.controller("QuestionnaireController",["$scope",function(e){e.questionnaire={familySize:"1"}}]),o.controller("StyleController",["$scope","$state",function(o,n){o.chooseStyle=function(e,n){o.style=n},o.book=function(){o.style!==e&&n.go("design.appointment")}}]),o.controller("WallController",["$scope","$rootScope","$state",function(e,o,n){if(e.colors=[{name:"red",code:"#F44336"},{name:"green",code:"#4CAF50"},{name:"purple",code:"#673AB7"},{name:"blue",code:"#3F51B5"},{name:"orange",code:"#FF9800"}],e.selectedColor=o.client.wall,e.wallBase="/images/wall-",e.wallImages=["/images/wall-red.jpg","/images/wall-green.jpg","/images/wall-purple.jpg","/images/wall-blue.jpg","/images/wall-orange.jpg"],null!==e.selectedColor){var t=e.wallBase+e.selectedColor.name+".jpg";e.indexWall=e.wallImages.indexOf(t)}else e.indexWall=0;e.setColor=function(o){var n=e.wallBase+o.name+".jpg";e.indexWall=e.wallImages.indexOf(n),e.selectedColor=o},e.setWall=function(){o.client.wall=e.selectedColor,n.go("design.floor")}}]),o.controller("HomeController",["$scope","$rootScope","$state",function(e,o,n){e.setModel=function(e){o.house={modalType:e},n.go("design.general")}}]),o.factory("NotificationServices",["$mdToast",function(e){return{notifySelection:function(o){e.show({controller:"ToastController",templateUrl:"/toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{message:o}})},changePackage:function(o){e.show({controller:"PackageToast",templateUrl:"/package.toast.html",parent:angular.element(document.body),hideDelay:4e3,position:"bottom right",locals:{"package":o}})}}}])}();